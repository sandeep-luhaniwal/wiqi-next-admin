{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/kodu/nextjs/app/%28protected%29/components/home/GetUserTabel.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { getUsers } from '@/app/api/getuserdetails/userdetails';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n    Card,\r\n    CardFooter,\r\n    CardHeader,\r\n    CardTable,\r\n    CardTitle,\r\n    CardToolbar,\r\n} from '@/components/ui/card';\r\nimport { DataGrid } from '@/components/ui/data-grid';\r\nimport { DataGridPagination } from '@/components/ui/data-grid-pagination';\r\nimport { DataGridTable } from '@/components/ui/data-grid-table';\r\nimport { Input } from '@/components/ui/input';\r\nimport { ScrollArea, ScrollBar } from '@/components/ui/scroll-area';\r\nimport {\r\n    getCoreRowModel,\r\n    getFilteredRowModel,\r\n    getPaginationRowModel,\r\n    getSortedRowModel,\r\n    useReactTable,\r\n} from '@tanstack/react-table';\r\nimport { Eye, Search, X } from 'lucide-react';\r\nimport Image from 'next/image';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect, useMemo, useState } from 'react';\r\n\r\nconst GetUserTable = () => {\r\n    const router = useRouter();\r\n\r\n    const [users, setUsers] = useState([]);\r\n    const [pagination, setPagination] = useState({\r\n        pageIndex: 0,\r\n        pageSize: 10,\r\n    });\r\n    const [sorting, setSorting] = useState([{ id: 'firstName', desc: false }]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    // ✅ Fetch users using API helper\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (!token) return;\r\n\r\n                const userData = await getUsers(token);\r\n                setUsers(userData);\r\n            } catch (error) {\r\n                console.error('Error fetching users:', error);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    // ✅ Search filter\r\n    const filteredData = useMemo(() => {\r\n        if (!searchQuery) return users;\r\n        return users.filter(\r\n            (u) =>\r\n                u.firstName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                u.lastName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                u.userName?.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                (u.phone ? String(u.phone).includes(searchQuery) : false)\r\n        );\r\n    }, [searchQuery, users]);\r\n\r\n    const columns = useMemo(\r\n        () => [\r\n            {\r\n                id: 'firstName',\r\n                accessorFn: (row) => row.firstName,\r\n                header: () => <span className=\"font-bold\">First Name</span>,\r\n                cell: ({ row }) => row.original.firstName,\r\n                enableSorting: false,\r\n                size: 150,\r\n            },\r\n            {\r\n                id: 'lastName',\r\n                accessorFn: (row) => row.lastName,\r\n                header: () => <span className=\"font-bold\">Last Name</span>,\r\n                cell: ({ row }) => row.original.lastName,\r\n                enableSorting: false,\r\n                size: 150,\r\n            },\r\n            {\r\n                id: 'userName',\r\n                accessorFn: (row) => row.userName,\r\n                header: () => <span className=\"font-bold\">Username</span>,\r\n                cell: ({ row }) => row.original.userName,\r\n                enableSorting: false,\r\n                size: 150,\r\n            },\r\n            {\r\n                id: 'email',\r\n                accessorFn: (row) => row.email,\r\n                header: () => <span className=\"font-bold\">Email</span>,\r\n                cell: ({ row }) => row.original.email,\r\n                enableSorting: false,\r\n                size: 250,\r\n            },\r\n            {\r\n                id: 'phone',\r\n                accessorFn: (row) => row.phone,\r\n                header: () => <span className=\"font-bold\">Phone</span>,\r\n                cell: ({ row }) => row.original.phone || 'N/A',\r\n                enableSorting: false,\r\n                size: 150,\r\n            },\r\n            {\r\n                id: 'image',\r\n                accessorFn: (row) => row.image,\r\n                header: () => <span className=\"font-bold\">Image</span>,\r\n                cell: ({ row }) =>\r\n                    row.original.image ? (\r\n                        <Image width={48} height={48}\r\n                            src={`${row.original.image}`}\r\n                            alt={`${row.original.firstName} ${row.original.lastName}`}\r\n                            className=\"w-12 h-12 rounded-full object-cover object-center border border-primary\"\r\n                        />\r\n                    ) : (\r\n                        // <span className=\"text-gray-400 text-sm\">No Image</span>\r\n                        <Image src={'/media/images/svg/userprofile.svg'} className='border rounded-full border-primary' width={48} height={48} alt='no img found' />\r\n                    ),\r\n                size: 100,\r\n            },\r\n            {\r\n                id: 'actions',\r\n                header: () => <span className=\"font-bold\">Details</span>,\r\n                cell: ({ row }) => (\r\n                    <button\r\n                        onClick={() => router.push(`/user/${row.original.id}`)}\r\n                        className=\"flex justify-center w-full cursor-pointer text-primary hover:underline\"\r\n                    >\r\n                        <Eye className=\"h-4 w-4\" />\r\n                    </button>\r\n                ),\r\n                size: 80,\r\n            },\r\n        ],\r\n        [router]\r\n    );\r\n\r\n\r\n\r\n    const table = useReactTable({\r\n        columns,\r\n        data: filteredData,\r\n        pageCount: Math.ceil((filteredData?.length || 0) / pagination.pageSize),\r\n        getRowId: (row) => String(row.id),\r\n        state: {\r\n            pagination,\r\n            sorting,\r\n        },\r\n        columnResizeMode: 'onChange',\r\n        onPaginationChange: setPagination,\r\n        onSortingChange: setSorting,\r\n        getCoreRowModel: getCoreRowModel(),\r\n        getFilteredRowModel: getFilteredRowModel(),\r\n        getPaginationRowModel: getPaginationRowModel(),\r\n        getSortedRowModel: getSortedRowModel(),\r\n    });\r\n\r\n    return (\r\n        <DataGrid\r\n            table={table}\r\n            recordCount={filteredData?.length || 0}\r\n            tableLayout={{\r\n                columnsPinnable: true,\r\n                columnsMovable: true,\r\n                columnsVisibility: true,\r\n                rowBorder: true,\r\n            }}\r\n        >\r\n            <Card>\r\n                <CardHeader className=\"py-3.5\">\r\n                    <CardTitle>Users</CardTitle>\r\n                    <CardToolbar className=\"relative\">\r\n                        <Search className=\"size-4 text-muted-foreground absolute start-3 top-1/2 -translate-y-1/2\" />\r\n                        <Input\r\n                            placeholder=\"Search users...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"ps-9 max-w-[200px] w-full\"\r\n                        />\r\n                        {searchQuery.length > 0 && (\r\n                            <Button\r\n                                mode=\"icon\"\r\n                                variant=\"ghost\"\r\n                                className=\"absolute end-1.5 top-1/2 -translate-y-1/2 h-6 w-6\"\r\n                                onClick={() => setSearchQuery('')}\r\n                            >\r\n                                <X />\r\n                            </Button>\r\n                        )}\r\n                    </CardToolbar>\r\n                </CardHeader>\r\n                <CardTable>\r\n                    <ScrollArea>\r\n                        <DataGridTable />\r\n                        <ScrollBar orientation=\"horizontal\" />\r\n                    </ScrollArea>\r\n                </CardTable>\r\n                <CardFooter>\r\n                    <DataGridPagination />\r\n                </CardFooter>\r\n            </Card>\r\n        </DataGrid>\r\n    );\r\n};\r\n\r\nexport default GetUserTable;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}