{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/kodu/nextjs/app/%28protected%29/user/%5Bid%5D/page.jsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams } from 'next/navigation';\r\n\r\nexport default function UserDetailsPage() {\r\n    const params = useParams();\r\n    const userId = params.id;\r\n\r\n    const [userPosts, setUserPosts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchUserPosts = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const token = localStorage.getItem('token');\r\n                if (!token) {\r\n                    setError('Token missing');\r\n                    return;\r\n                }\r\n\r\n                const res = await fetch(\r\n                    `${process.env.NEXT_PUBLIC_API_URL}api/admin/getUserAllPost?userId=${userId}`,\r\n                    {\r\n                        headers: { Authorization: `Bearer ${token}` },\r\n                    }\r\n                );\r\n\r\n                const data = await res.json();\r\n                if (data.success) {\r\n                    setUserPosts(data.data.posts || []);\r\n                } else {\r\n                    setError(data.message || 'Failed to fetch posts');\r\n                }\r\n            } catch (err) {\r\n                setError(err.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        if (userId) fetchUserPosts();\r\n    }, [userId]);\r\n\r\n    if (loading) return <div className=\"p-6\">Loading user posts...</div>;\r\n    if (error) return <div className=\"p-6 text-red-600\">{error}</div>;\r\n\r\n    return (\r\n        <div className=\"max-w-5xl mx-auto p-6\">\r\n            <h1 className=\"text-2xl font-bold mb-4\">User Details & Posts</h1>\r\n\r\n            {/* ✅ User Info */}\r\n            {userPosts.length > 0 && (\r\n                <div className=\"mb-6 p-4 border rounded\">\r\n                    <p><strong>User ID:</strong> {userId}</p>\r\n                    <p><strong>Total Posts:</strong> {userPosts.length}</p>\r\n                </div>\r\n            )}\r\n\r\n            {/* ✅ User Posts */}\r\n            <div className=\"grid gap-4\">\r\n                {userPosts.map((post) => (\r\n                    <div\r\n                        key={post._id}\r\n                        className=\"border rounded p-4 bg-white shadow-sm\"\r\n                    >\r\n                        <h2 className=\"text-lg font-semibold\">{post.title}</h2>\r\n                        <p className=\"text-sm text-gray-500\">Type: {post.type}</p>\r\n                        <p className=\"text-sm text-gray-500\">\r\n                            Created: {new Date(post.createdAt).toLocaleDateString()}\r\n                        </p>\r\n                        {post.image && (\r\n                            <img\r\n                                src={post.image}\r\n                                alt={post.title}\r\n                                className=\"w-32 h-32 mt-2 rounded object-cover border\"\r\n                            />\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;AAwBuB;;AAtBvB;AACA;;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,SAAS,OAAO,EAAE;IAExB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACN,MAAM;4DAAiB;oBACnB,IAAI;wBACA,WAAW;wBACX,MAAM,QAAQ,aAAa,OAAO,CAAC;wBACnC,IAAI,CAAC,OAAO;4BACR,SAAS;4BACT;wBACJ;wBAEA,MAAM,MAAM,MAAM,MACd,uEAAmC,gCAAgC,EAAE,QAAQ,EAC7E;4BACI,SAAS;gCAAE,eAAe,CAAC,OAAO,EAAE,OAAO;4BAAC;wBAChD;wBAGJ,MAAM,OAAO,MAAM,IAAI,IAAI;wBAC3B,IAAI,KAAK,OAAO,EAAE;4BACd,aAAa,KAAK,IAAI,CAAC,KAAK,IAAI,EAAE;wBACtC,OAAO;4BACH,SAAS,KAAK,OAAO,IAAI;wBAC7B;oBACJ,EAAE,OAAO,KAAK;wBACV,SAAS,IAAI,OAAO;oBACxB,SAAU;wBACN,WAAW;oBACf;gBACJ;;YAEA,IAAI,QAAQ;QAChB;oCAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAAM;;;;;;IACzC,IAAI,OAAO,qBAAO,6LAAC;QAAI,WAAU;kBAAoB;;;;;;IAErD,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;YAGvC,UAAU,MAAM,GAAG,mBAChB,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAAiB;4BAAE;;;;;;;kCAC9B,6LAAC;;0CAAE,6LAAC;0CAAO;;;;;;4BAAqB;4BAAE,UAAU,MAAM;;;;;;;;;;;;;0BAK1D,6LAAC;gBAAI,WAAU;0BACV,UAAU,GAAG,CAAC,CAAC,qBACZ,6LAAC;wBAEG,WAAU;;0CAEV,6LAAC;gCAAG,WAAU;0CAAyB,KAAK,KAAK;;;;;;0CACjD,6LAAC;gCAAE,WAAU;;oCAAwB;oCAAO,KAAK,IAAI;;;;;;;0CACrD,6LAAC;gCAAE,WAAU;;oCAAwB;oCACvB,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;;4BAExD,KAAK,KAAK,kBACP,6LAAC;gCACG,KAAK,KAAK,KAAK;gCACf,KAAK,KAAK,KAAK;gCACf,WAAU;;;;;;;uBAZb,KAAK,GAAG;;;;;;;;;;;;;;;;AAoBrC;GAhFwB;;QACL,qIAAA,CAAA,YAAS;;;KADJ","debugId":null}}]
}